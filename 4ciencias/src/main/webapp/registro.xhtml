<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Registro</title>
            </f:facet>
        </h:head>

        <h:body style="background:url(https://upload.wikimedia.org/wikipedia/commons/5/54/Facultad_de_Ciencias_%28UNAM%29.jpg) no-repeat center center fixed; 
                       background-size: cover;">
            <p:toolbar id="tb">
                <f:facet name="left">
                    <p:button outcome="/restringido/principal" value="4CIENCIAS" icon="ui-icon-star"></p:button>
                    <span class="ui-separator">
                        <span class="ui-icon ui-icon-grip-dotted-vertical" />
                    </span>
                    <p:button href="http://www.fciencias.unam.mx/" value="FCIENCIAS" icon="ui-icon-home"></p:button>
                    <p:button href="http://www.unam.mx/" value="UNAM" icon="ui-icon-folder-open"></p:button>
                </f:facet>
                <f:facet name="right" >
                    <h:form>
                        <p:button value="Iniciar Sesion" outcome="/login" rendered="#{sessionScope.userid == null}"></p:button>
                        <p:splitButton value="#{sessionScope.username}" 
                                       action="/restringido/perfil" 
                                       icon="ui-icon-person" 
                                       rendered="#{sessionScope.username != null}">
                            <p:menuitem value="Perfil" icon="ui-icon-lightbulb" action="/restringido/perfil" />
                            <p:menuitem value="A침adir Pregunta" icon="ui-icon-plusthick" action="#{preguntaBean.mostrarAgregarPregunta}" />
                            <p:separator />
                            <p:menuitem value="Cerrar Sesi칩n" action="#{loginBean.resultadoLogout()}" icon="ui-icon-extlink" />
                        </p:splitButton>
                        <p:commandButton value="Cerrar Sesion" icon="ui-icon-extlink" action="#{loginBean.resultadoLogout()}" rendered="#{sessionScope.userid != null}"/>
                    </h:form>
                </f:facet>
            </p:toolbar>
            <p:sticky target="tb" />
            
            <h:form id="formaRegistro" style="margin: 0 auto; margin-top: 100px">          
                <p:growl id="msg" showDetail="true" life="3000" />
                <p:panel header="Registrate" style="width: 400px; margin: 0 auto">

                    <h:panelGrid id="panelRegistro" columns="2" style="margin: 0 auto">

                        <h:outputText value="Nombre:"/>
                        <p:inputText id="nombre" value="#{registroBean.nombre}" />
                        
                        <p:spacer/><p:spacer/>
                        
                        <h:outputText value="Correo:"/>
                        <p:inputText id="email" value="#{registroBean.email}" />

                        <p:spacer/><p:spacer/>
                        
                        <h:outputText value="Contrase침a:"/>
                        <p:password id="password" value="#{registroBean.password}"  
                                    feedback="true" />

                        <p:spacer/><p:spacer/>
                        
                        <h:outputText value="Confirma contrase침a:"/>
                        <p:password id="conf_password" value="#{registroBean.conf_password}"  
                                    feedback="true" />

                        <p:spacer/><p:spacer/>
                        
                        <p:spacer/>
                        <p:commandButton id="agrega" action="#{registroBean.registraUSV()}" 
                                         value="Registrate" update="formaRegistro" ajax="true"></p:commandButton>

                    </h:panelGrid>

                </p:panel>

            </h:form>
            
        </h:body>

    </f:view>
</html>