<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    
    <h:head>        
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" type="text/css" href="../Estilos/estilos-pregunta.css"/>
    </h:head>
            <h:body style="background:url(http://somoscultura.mx/wp-content/uploads/2017/11/Ciudad_Universitaria_5535011417-1.jpg) no-repeat center center fixed; 
                           background-size: cover;">        
            <p:toolbar id="tb">
                <f:facet name="left">
                    <p:button outcome="principal" value="4CIENCIAS" icon="ui-icon-star"></p:button>
                    <span class="ui-separator">
                        <span class="ui-icon ui-icon-grip-dotted-vertical" />
                    </span>
                    <p:button href="http://www.fciencias.unam.mx/" value="FCIENCIAS" icon="ui-icon-home"></p:button>
                    <p:button href="http://www.unam.mx/" value="UNAM" icon="ui-icon-folder-open"></p:button>
                </f:facet>
                <f:facet name="right">
                    <h:form>
                        <p:splitButton value="#{sessionScope.username}" 
                                       action="/restringido/perfil" 
                                       icon="ui-icon-person" 
                                       rendered="#{sessionScope.username != null}">
                            <p:menuitem value="Perfil" icon="ui-icon-lightbulb" />
                            <p:menuitem value="Añadir Pregunta" icon="ui-icon-plusthick" action="#{preguntaBean.mostrarAgregarPregunta}" />
                            <p:separator />
                            <p:menuitem value="Cerrar Sesión" action="#{loginBean.resultadoLogout()}" icon="ui-icon-extlink" />
                        </p:splitButton>
                    </h:form>
                </f:facet>
            </p:toolbar>
            <p:sticky target="tb" />
            
            <p:spacer></p:spacer>
            <p:spacer></p:spacer>
            
        <div name="pregunta" id="centered-container" class="ui-fluid">                        
            <h:form> 
                <p:dataScroller value="#{preguntaBean.preguntas}" id="centered-container" var="pregunta" 
                                chunkSize="10">               
                    <p:panelGrid columns="2" columnClasses="ui-grid-col-2, ui-grid-col-10" 
                             styleClass="ui-panelgrid-blank">                                                

                        <p:panelGrid columns="1" columnClasses="ui-grid-col-2, ui-grid-col-10" 
                                 styleClass="ui-panelgrid-blank">                    
                            <f:facet name="header">
                                <p:graphicImage url="/media/usuario.png" width="100" height="100" />
                            </f:facet>                   
                            <p:outputLabel id="usuario" style="font-size: 14px; font-weight: bold" 
                                           value="#{pregunta.usuario.nombre}"/>                                                                                                                  
                        </p:panelGrid>

                        <p:panelGrid columns="1" columnClasses="ui-grid-col-2, ui-grid-col-10" 
                                 styleClass="ui-panelgrid-blank">            
                            <p:panelGrid columns="2" columnClasses="ui-grid-col-2, ui-grid-col-10" 
                                         styleClass="ui-panelgrid-blank">
                                <p:outputLabel id="categoria" value="#{pregunta.categoria.nombre}" style="font-size: 16px; font-style: italic" />                
                                <p:outputLabel id="fecha" style="font-size: 10px; font-style: italic" 
                                               value="19/05/2018"/>                                                   
                            </p:panelGrid>                    
                            <p:outputLabel id="titulo" value="#{pregunta.titulo}" style="font-weight: bold; font-size: 32px;" />                                                                        
                            <p:commandButton id="mas" value="Ver mas" 
                                     action="#{preguntaBean.mostrarPregunta(pregunta.id)}" icon="ui-icon-check" />
                        </p:panelGrid>                                 
                    </p:panelGrid>                    
                </p:dataScroller>
            </h:form>
            <br/>
        </div>
    </h:body>
    
</html>
